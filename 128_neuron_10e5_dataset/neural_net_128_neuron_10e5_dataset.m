function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 07-Mar-2017 17:44:59.
% 
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 4xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 4xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-10;-9.99939;-10;-10];
x1_step1.gain = [0.1;0.100003050093028;0.1;0.1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.698399870026631;-3.859285075400225;-4.1450249109905517;-3.8189047486734382;2.7719127191381912;-0.966031148082094;0.88087950666366732;2.0231849643860293;-1.3383464179937614;-3.6509516965310636;3.0145300936688635;1.3619527181329663;3.5902960628309124;-0.27405273462383178;-1.9699439267717225;2.5583717495383733;-1.0775904101226765;1.2199219387789875;-3.3546355888644155;0.46777945371158836;2.9506653930561364;2.72958483422553;2.7649028826831308;-1.9931508540606446;-0.70722124834063038;2.8538170539165515;2.8524894081172785;1.9360450953693804;-2.2495978211946182;-2.6300675248954906;1.8264824436747098;-2.6836868174458508;1.9037376941547803;0.72200317777782574;-1.6244728878256913;1.0194927724606631;-1.5758738821320533;1.6291110414710415;1.2984224097728174;1.8457841002944468;-0.16815742344271112;-0.26006422730355738;-1.8600413485886973;-1.4499442867733563;-0.55169401796231654;1.3808605535431933;-1.5645019670428948;-0.9639133121384601;-0.15078380669386574;-0.19675350812191728;-0.091326061366595837;0.11471240574112952;-0.85201215836983357;0.0055296957013858134;0.02374967696326832;-0.48069925879977521;-0.09889403478174387;0.40878461440689717;-0.031870035511128381;-0.083310787173017153;0.091012140454677731;0.097969742947575683;-0.085390129882225246;-0.28787243415430569;-0.047929887198699915;0.028617476231074891;-0.37287750416480575;0.40869802553206558;-0.0082331123030645933;0.10732312307398434;0.12856091408269457;0.16030970407396589;-0.042212204793952372;0.27650877028076715;0.055984419054770987;0.74092002290407388;-0.18969934458643012;-0.25100001191709259;1.7439485054875359;-0.29972847585274531;0.95810274551315255;-0.016876202548310307;0.092702959086629413;-1.9326489221437657;0.03005132499355509;-1.3547953906016417;-1.3446207487935173;0.50565497471069265;-1.861971388906517;-1.5935955174123058;1.5281561985609968;-2.5951925924737216;2.173101809771719;1.5275599787052208;-1.9485895519372496;-1.3187590194168872;2.2479528213579205;-2.6754489783436299;2.4652250712639199;3.2509863984314364;-2.3270892020506015;-2.9476349247918292;-0.043880822689752123;-1.6903709724929727;2.954861797191612;-2.7316027241272094;-2.3560952002492663;2.6060640644378918;1.7610074391068431;1.6178144529370857;-0.071617501478607612;-2.7178732693597119;-1.2344352076803358;-1.2220815856408485;2.5241686998457085;-3.3040589418975466;3.5874280584881406;0.56191334387419234;4.6041022015676534;-3.877835339215522;0.63535391204170055;-4.3796067065604412;-4.6342518593465512;-3.2862934711261671;4.39115588594768;5.1030261268851644;-4.2049636707331484;-0.72539838169966664];
IW1_1 = [0.021891485292356124 0.87747356123337239 2.9556596351293778 -0.0054812212333596993;1.5490904135034413 -1.7291662237711416 2.278318560538271 0.26052433928372709;1.8411614128560878 1.4515633268498764 1.4269860544022814 -2.4602598121667918;3.0692848220331292 1.4184764733617479 0.10139749916633543 -1.3046044793555576;-0.014451665233242879 0.6018402825963739 3.1675239504730905 -0.013009722556971222;0.74682743034044274 0.00066799631517135746 -0.003865739582517774 -0.023377559544164647;-0.00042475969203077511 0.6662953338220402 0.0054944211542388181 -0.0049888214248012298;0.00051614367311188811 -0.3576880500248617 -0.0030926756664841509 1.8874448162303792;-0.0071105201069032826 -3.942090497948334 -2.0913823131469496 -0.0032219280961344231;-0.33205105319137895 -2.5166460029736801 -2.4997033838225127 2.2412674801048653;0.012357198090214312 2.1825594141633968 -0.0058095311662418247 -3.813391783808477;-1.3684332287528516 -0.0060515394273892688 -0.010650000878820145 -0.1372930728378092;-1.7451907710005534 -1.8808261904663395 2.9137502065763226 0.78430435677886312;0.00076232911604212541 4.8990190354427678 -0.019669406202520476 -0.48817225446229978;1.0534564172309318 0.028501212747077329 0.012575136028295733 -1.5450267401775293;-0.89681741315359631 1.3074354549661678 0.64593926987979911 -0.37212858287046796;0.00058665835619701177 -0.90638517509085703 -0.16681011834874426 0.0017128298896619022;-0.0062010457447520652 -1.2744611440759768 -1.2802427664031322 -0.002917601337261857;2.9965290517016747 2.4832380760869439 1.5860703800723424 -0.27288249016469723;-0.34809068960643086 0.0015988816493859202 -0.0018425807672480189 -0.23354136069936998;-2.7378222909627481 1.1191231626181137 1.1482200331106929 1.8612300030387816;-1.7571942087311885 2.6383074973815446 3.4802789923814159 -1.0261717513754474;-2.3481388165575385 1.8217708153639274 -1.7427737780711223 1.4866810817529179;2.0165744717944731 -2.2085681889312383 -0.95306643876087016 0.91160890433309671;2.9152351561275367 -0.040589931462478301 -3.6286520098880093 0.013925046356729484;0.086335268122577705 0.71845228490193458 4.1153471665927199 2.1291219145369604;0.19137850610519958 -3.1404396578308194 -2.1125153891487756 -2.4503694848713975;-2.3663321676771649 -1.454789078811918 1.8006727511554481 -0.37802398546860105;1.0339180948306079 3.5080468860637102 -0.42765007434249602 -1.4851289109333214;1.7650138380526663 -1.8314525628394391 3.0322937278194959 -2.2846098426098402;-1.6027819163828994 0.72656793869683112 2.6720083307841631 -3.0966080614863287;0.86844264772925506 -2.4643714723677563 2.0604299099442884 -2.8165192456217745;-1.9772417910242386 -2.0837870058156835 -0.1581764246108637 -3.0132477325079314;-4.837445348407317 0.0027418470746152284 0.0032038960787482669 2.1871839871634173;1.9162205524021267 2.7683020428282803 1.7019659680297328 2.7154756348932794;-2.015325275793195e-05 1.1856092655883397 2.4761753045389945 -0.010540855104152863;3.0023620536082007 0.0059903392998878636 -0.0094914063089088854 -2.8840424820177835;-2.5759255109274899 -0.99474258775351965 1.2987713434388537 1.2655189006064189;-1.9311802183103657 -0.74527818280972624 2.8970358394132627 2.5912330246735538;-2.5233943823879086 -1.8289723697289288 0.66014915454238032 2.9501273149313061;-0.0007774883341612629 2.9754428049374537 -0.01685632417182685 -0.24696873494006044;0.094762483975556699 0.12660988474113447 0.0021751423369142393 4.7668011639754813;2.1311246756000721 -2.6216002781957122 -0.25028329363889806 -1.787007824398237;0.95358454920145597 1.4536341637489305 3.9463143220388512 1.8101543920519481;4.3179356313088881 -0.0022795185255888232 -0.0036665327679267098 -1.9633667935730497;-2.86006715627907 -2.894849958810163 -1.6716788048449507 -0.4980829394592291;0.0022544644305089161 3.3161127607270768 -0.021902244819815408 -4.5870335310593084;2.1716494886760547 2.3606237843787539 2.3435617366476666 -0.53255755394646598;13.316507899864011 -0.00025979908692407716 -1.0163463814133427 -0.0081867141716241675;-1.5395221804268548 -0.014888580685228974 -0.0015779990096756187 4.0677274501913132;0.95600289510934278 0.013052474353118152 1.4029645391238437 -0.013349368967391207;13.29262571900518 -0.00026630007774202156 -1.0203450682916164 -0.0079248892291723574;2.213047591761395 -0.88565298718417085 -1.0070969551027436 -3.5616079313991968;-6.3524011340028839 -0.0013451171742571671 -0.018884341288559484 0.012754643053851879;-13.081155985810426 0.00022379794388104399 0.99203825443556237 0.0080478449540964097;1.2744233520288364 -2.3989677383098824 1.988867208625329 -2.5462211459843949;3.0340458670231398 1.075803727343452 2.7487966220984923 1.7775506919070392;-1.9788473842772867 0.886638271788455 2.9299952532693028 -1.8908998254694263;-0.0061744081828764199 18.497529793727033 -0.041959915289540926 -0.72972129049795542;0.0064539122537091041 -13.926556357541031 2.3662108946362523 0.038109843339915225;2.3118663882263637 0.0020533840764366349 -2.01636505007487 -0.0034189090797149034;-4.4740337915562129 -0.0011969807413062753 -1.7887821481767536 0.0014454375221528875;-15.004700701464113 -0.0060502914318537908 -0.0060509584625081511 2.3959079346244203;0.06734225396082405 0.016601120281908039 6.0773125824227483 -0.00072477168959027359;15.323721530464789 0.0036245755015990823 -0.089356448398525273 -0.077027898017782856;0.0059684832531761859 -18.874310988086297 0.037874195574662352 0.81634382119000926;-2.8856818941856308 -3.3565667592794757 -1.9140674965890561 -0.88862620207350274;0.00096161848155089781 7.8066683643600747 -0.019201280275665502 -0.97639375551551277;-0.010729200438431877 20.206586812026323 -1.2478585555991917 -0.046836955559516599;0.0041052091011564941 4.8583774096256329 -2.1510631456416274 0.0028581467126605098;0.034823745010173823 0.0010408227314003488 -0.050142265752187047 0.007500697113464073;-0.0046070177486316572 -2.1872338377093143 0.0014076626794051594 -1.6012886104660018;0.0030863012017245087 4.9717557241589487 0.19770077289198371 0.12540834620281222;1.8722267726439004 -0.0072734276289229873 -5.2546359710237445 0.0048715586817110468;0.012473734148583444 3.4675725501194905 0.0011305418237510401 -2.2191931253171;1.5700247052514635 -1.5094493473120323 -3.0755763316206157 -2.7130156174800062;-2.0659883087248541 2.1509908472056702 0.60205535678920152 0.86093405822805513;0.0025650054309053123 -1.3787754274233992 3.64384212800603 -0.0061322360526852443;2.4635041793799086 1.0604676816868432 -1.9433735825215825 0.31291529382516836;-0.6422385926888392 -3.0449776997168709 1.7901703182991286 -2.7242930678889996;1.3686273614188083 -0.66632648762844826 -2.7810056609001146 2.6335143200256494;19.171541031680896 0.0032936867457870776 -0.0087201915184770516 -1.1626680538473233;8.0341884393217207 0.0044369911141488617 -2.6048990607835627 -0.0082838007905398654;-0.024128663892590139 -3.2034482493252887 -0.052867543858390278 -1.0875637505745259;0.002664058873535124 0.58737841844772543 0.00050831614367734322 -1.8839868982844377;-1.6384922399417485 -2.2918584028227831 -2.8896594646431444 1.3005702984947327;-2.4669403880777758 2.2483267781410516 1.0606919672363944 -2.5240295919899118;0.00093698169179769859 8.3404757724996941 -0.020594305980798096 -1.0351081051942579;-0.49066717903715346 -2.5101371997366626 -2.6978304444748202 1.918170198431794;-2.5790409555572809 2.3067345631936704 1.5750086204675604 -1.9551175194494967;3.0477474002320544 -0.0066422409832246716 -4.1633971337357893 0.05284431108832803;-2.4845590636427595 -0.41093515739087794 -2.8363525312230604 0.65902819457132733;1.5434869613468993 -3.1451257623266056 -2.2673446858732378 1.8890098290262864;1.7982733209133357 -2.6213275892803862 2.0293858313848752 1.5236768582641318;-0.013758342441606914 -3.3954588533062835 3.4696025397151016 -0.00095393461220312341;-0.0077608754923863691 -0.22801956266171738 -0.00046575887391880341 1.1945492836236653;-0.013865395803406493 -2.6354427467839208 -1.9724397549074488 -0.022683246038076962;-2.7807634429462209 3.0251904292887613 1.0776053629473097 -2.001581604491518;2.5980353171906279 0.90258786264892243 -2.1484751200060859 -2.5176152853928908;0.013246877609828591 -3.3586498876551687 3.4827834680721566 0.14179901578715354;-3.1046384789859114 -1.2266572110923293 -2.2711459666433611 -2.1985290593922167;-2.996193025098786 -0.72640692909053017 -2.3853320313524868 3.0010216169788384;0.0031039948229804673 5.005386103558787 0.24129100014305133 0.10496225771085833;0.004477980422752807 0.80348989247862579 0.0005846467882544658 -3.0891248155721405;-0.016075055743181826 -2.7345301858789242 0.00042204982713007507 -2.6529933359119933;-2.7239369085425333 -1.3373352197702133 1.5032021099153716 -1.408433783000405;-0.33777270542315574 2.8848213984079663 -2.7475085597258406 -1.456235286677968;0.79677726718273945 -1.6285154485224806 0.72844890599536793 3.351251786098437;-0.0070161659511023527 0.51347605072977098 -2.4661453571225325 0.0078598160552926597;0.00014839447771087942 1.0157464260471971 -1.1401186946075892 0.0006256253301496318;5.7241011333476681 0.001238213702054838 -0.00046703419228545515 1.0234170537522824;-1.3250950485783879 -1.3409283346393426 1.0467852362166363 -0.30401761413344819;-1.3455257895487767 0.0050676340522695634 -0.0064144942601437856 -1.4084009650554543;-5.610508750544164 0.027195846742715121 -0.14224558374938673 -0.087334840191088156;0.85682858564871212 2.219990299505465 -1.8088889546568201 -2.4247129787647141;-2.1259006009497661 0.01734205039586514 3.793330670868261 -0.029952002639469743;2.777070125666143 -0.48713230467145985 -3.4121745523719542 -1.3570869647878272;0.48204849168003783 -2.6720612281509925e-05 -0.0041552438857818787 -0.010297446983537533;3.4167193719134707 -2.2087564727793865 1.8333537829918491 -0.34484172447322459;-1.4120449891076938 2.0823977569244221 1.3270501509775696 0.22057932650735818;-0.0010551417743089894 -5.6687084306956681 0.021372229680951531 0.59790429602839001;-1.2158791351927878 2.8075437663045437 -2.6550263609712896 -2.0081485791290232;-0.1955784548894465 -1.1165449725301473 2.5088850585519538 3.5373698754104481;-1.4414117777509861 0.0080825533940548176 -0.0015241802564849973 -2.2132721872945247;2.114856496250523 -2.6562589458883683 3.1065578139386649 0.59391319238935691;0.68117838666104735 -0.19682678179358387 3.0225501597465807 2.7491634206814788;-1.8089529650938925 0.1256684720156987 3.0153378081869904 -0.038058817003305087;-4.7529666324681099e-05 0.50716985455527419 0.00087122365305339236 -0.0059735717498686815];

% Layer 2
b2 = [-0.54490642762499153;-0.00098813823554591671;-0.33404821316336875;0.24057170915454618];
LW2_1 = [-0.00021554869090253354 -0.00016739543497777562 0.00018541792746875152 -0.00020647621765577264 0.00068309076004588823 0.69089635088370915 0.004951204956733346 0.00019765243762926612 5.5826716170493979e-05 5.7451831387734532e-05 -1.3484034267605706e-05 -0.018642880995715767 0.00015815015278426215 0.00055457184395873082 -0.00016137331755052128 -0.00027003219443977908 0.0054807861457878979 0.00086286413460933005 1.551073460230709e-05 -0.013129442090784791 6.949423523964647e-05 1.3571673767478771e-05 1.351992243587212e-05 2.2534860943723744e-05 -0.00070970533566518741 2.1285204829018205e-05 1.0062286265309683e-05 1.5815084695606709e-05 1.516246319934198e-05 4.2503496833735932e-05 1.4411794521774959e-05 -2.7668343867483103e-05 -8.9490826626818027e-06 -0.00034689848047554449 2.823075564691185e-05 -4.3426385322845341e-05 -4.6118864190744526e-05 2.9271934725289349e-05 -1.7097277756331973e-06 6.0716856478375953e-06 -0.00045867370873062599 -6.0301112087522704e-06 5.4731266633670219e-06 1.2797456520768149e-06 -0.00033861260181786899 -1.0608103465582063e-06 7.4529540882556336e-06 1.5079264155911838e-05 1.0927341126909969 3.2429733994405387e-05 0.011828121688943998 0.99925422826716737 1.7681309648044753e-05 -0.011667859480685357 2.1314606204103979 -9.4655633995011347e-06 3.9260667326467084e-06 9.2576500830845752e-06 0.00029637495732403197 -2.9041206501824032e-07 0.0077921527180103136 -0.0043962825541602286 -0.00021446480287054621 0.0024566211175561306 0.020432853961465797 0.00030500889120368225 -2.3434381053978782e-05 -0.00051363780712201294 -5.4043868417128158e-06 9.8344155426381826e-06 2.1898989573076983 5.3368770581256141e-05 7.8483729980143146e-05 0.0031908420019699656 2.7850676102840049e-06 1.5848944603618884e-05 3.581911967631411e-05 -1.774613353330061e-05 0.00022388652551550231 -1.8086791470469024e-05 -1.0960572428860467e-05 -0.0013638137603639872 0.0053694726699872212 -6.340263929306493e-06 2.1646423187783226e-05 -2.0873932975320721e-06 1.5595463950735095e-05 0.00041730000302770965 3.5178135654341948e-05 -2.4403339836674033e-05 -0.00098598225683683679 -0.00044128296196754803 9.618988930636796e-06 5.8614440927906977e-05 1.6915128877772905e-05 -0.00032304785902594871 -0.00021157121732773567 2.8340807718423051e-06 1.702428889055333e-05 -8.0715674199354116e-05 -6.8945570336552303e-05 6.0543563128341415e-05 -9.3820046757578989e-05 -8.0386451658022586e-06 2.6342527596143768e-05 1.7798012411757153e-05 -1.0522830235491999e-05 -2.9475971325877137e-05 0.00040875673412769199 -0.00090419485108792039 0.0001674541762688734 -0.0003527993902478599 -0.0002206284467594893 0.0012650815762067426 9.1936343947125669e-06 0.0013609469774333732 6.5974761220399786e-05 1.5787527585736794 -0.00012405915601564882 -0.0001413139791558066 0.00019092187578251485 -1.8176265468140943e-05 -5.2408925560831459e-05 -0.0001183372691291098 8.1082106500863406e-05 8.4722723206812344e-06 0.0024721962919361205 -0.0050359998500944013;-0.012570715152889437 -0.00019276104861855531 -1.1800392761810468e-05 -4.143071919503425e-05 -0.0034516717535898523 -0.036920629214287445 1.704917767056753 0.00091828599136818353 0.0025018955036058815 -4.2419669270267646e-05 -6.6465188812053186e-05 -0.0021856757493049755 -3.0278981979867274e-05 -0.11036236629052461 0.00028110404860756856 -0.00028968731340495586 0.43365605672867213 0.040224718705854236 -1.983207713462085e-05 0.00508439025930637 -1.0306021685961662e-05 2.0206301640201165e-05 3.3366982637065275e-05 -5.4308068103510948e-06 -9.1245067050324899e-05 1.2307987112566841e-05 1.0524556128836995e-05 6.0558525887842068e-05 -8.4129154280582308e-05 1.625059264230449e-06 -2.2843322664795586e-05 -7.8935152051829277e-06 7.3524413005999318e-06 -0.0001920647697809096 1.9537328123226445e-05 -0.0051032647319405903 1.1629754992648964e-05 2.9176158055321619e-06 -2.0542735411377111e-06 -1.1228919487229469e-05 0.0267268699719251 1.0082286669151649e-05 2.4971097173911904e-05 1.4312392097119132e-06 -0.00024985599791878585 -1.3994139056610853e-05 3.0828088805178919e-05 -9.1908317140529368e-06 0.0055680205703111524 -2.2108394535923635e-05 -0.00025720506121127882 0.005265766010809917 -6.9472164896153628e-06 0.00016697897855476348 0.010944590975343671 -7.4255388159452822e-06 1.2720751539622015e-05 3.9143654239253104e-06 0.10826797615797203 -0.0072695325665421686 3.4106597159324053e-05 -3.0892524062322877e-05 -4.8385796017359834e-05 0.0024182184460777734 0.00015355430520253208 0.097707485512240053 3.5492235886461577e-06 0.10760273637237763 -0.017975046748982454 0.0061411409457844696 1.1605831176920205 -0.00023324007200336064 -0.20564110882202985 -5.1591240517078572e-05 -2.5075030187138575e-05 -1.8840524598793717e-06 -1.4124485549652111e-05 -0.006442436685130868 2.5600810681579896e-05 2.8302378088588488e-05 -1.7881796496186772e-06 -4.3421215980734263e-05 5.9398473814907693e-06 -5.5019563555253898e-05 -0.00061958448508880209 1.6150382593109494e-06 7.6572727530427448e-06 -0.083236224522639138 -4.8120985296532318e-05 -1.3176207314583885e-05 -0.0001329156778805303 -3.0398093972230563e-05 1.6288774373025488e-05 3.816410098818126e-05 0.0020714622233436756 0.0011906114062791497 -0.0067275967464741808 -4.6239741484628806e-06 -2.1714720861643055e-05 -0.00054116658778036435 -3.326994007507392e-05 2.552499074286532e-05 0.21200596018418594 -0.00020782175709791714 -9.465315949744733e-05 -1.36915699195775e-05 -0.00014284567050274952 -3.4625672858969132e-05 0.0078111596118131555 -0.04383681735213571 5.2426266067681304e-05 -0.00010878105652759856 0.00019881284321608412 1.0355682765868997e-05 2.6451496906341721e-05 0.00013177283754377243 -6.7137542204348578e-06 -0.072077667186927166 2.8479200898723932e-05 4.9393441609101968e-07 -0.050448677977677624 -0.00012196877355372738 -1.9285942438172301e-05 0.0002964377802813 -6.0042576004446734e-05 9.9693111393138836e-05 0.0001696135817418504 1.6028206817278128;-0.00016008205467678277 3.9191952637834284e-05 1.0642003893738099e-05 0.00011290751282897401 2.4205332399991287e-05 1.0490541759307495 0.0031288864521970172 -0.0011849448082564351 2.8117650522440222e-05 8.4846542086876673e-06 5.5016675557176114e-05 0.049188006184570414 -2.7078893924040751e-05 -0.0019205514740834395 -0.018433121006655645 -0.00018250303847238864 0.0024611111889363151 0.00040675700032605873 -2.9169563028641167e-05 0.34776964273350913 -5.5429593382492462e-05 1.4568008645806673e-05 4.3841804209216862e-05 7.5292232922548975e-05 -8.9809382260158213e-05 -5.4120060188012928e-06 5.8400956941152202e-06 -8.3893620166191586e-07 8.7580583141295283e-07 5.7784852515225039e-06 7.875087877572276e-06 5.4638902192923458e-05 -3.7402148023584328e-05 0.028428917449665851 -1.3368245003115125e-06 -1.5448238733322118e-05 -0.0030031062266431103 -2.0856316634264904e-05 3.7672033982944193e-05 -2.773471020263444e-05 2.3197859681934115e-05 0.0035631272014195669 2.5789795722411678e-05 2.06768427285124e-06 0.036426953610329237 -2.3839927074427139e-06 -0.00011825115509245504 -2.4888100322574107e-05 0.074221218661672209 -0.0048668193571373983 5.6655095008461253e-06 0.068147948672954012 0.00021805184109974956 0.016968054766176684 0.145720372734643 3.8709972384582723e-05 3.9619515879709701e-06 3.1692588885047857e-06 -0.00014350738913726169 3.5308646321600848e-05 0.00013218754246318155 8.366022265429273e-05 -0.0073826222042950931 -7.471217849826032e-06 0.019245378106921701 -0.00014582018663490061 1.3431021184193664e-06 0.0016781094159279504 1.7015980609379388e-05 2.739354886104466e-05 -0.18275840807170096 -7.9954166876651319e-05 0.0023104053785899044 1.6028410391465229e-05 7.3166001044114174e-05 9.5522006273425736e-06 -2.4417670570068328e-05 -3.9622774487551038e-05 1.2067367862091262e-05 1.7961566132187628e-05 -1.7406446509329774e-05 -0.021748584572404587 4.5344470405312235e-05 -8.3194556538854027e-05 -0.00022762885428302156 1.710429967824009e-05 -3.447334874929479e-06 -0.0011890993124704945 -3.0907595179576412e-06 1.0602415052086537e-05 -0.0001025962201696218 -2.7345005077539853e-05 4.304540405133327e-05 -3.4526165658820091e-05 8.3572585689797159e-07 -9.4359298718335707e-05 -0.00013313851756383173 4.6511419844790663e-05 -4.1646144398690237e-05 -7.7208726107809089e-06 -2.0768955733085004e-05 5.0087073610056361e-05 -0.0020156227292094822 0.00089356458693439162 -0.00019155124270152095 2.6218893363260364e-05 5.3018476102919092e-05 0.00018041345342923178 0.00016551441738960274 -2.2687056091098225e-05 0.0095031323830593508 -5.2704950106283444e-06 0.022512681192625325 -0.00027010202281417631 -3.4191110663377474e-05 0.0001110580281815068 1.6661255629445605e-05 1.9069761684090978 -5.115562991088379e-05 7.5157703174210224e-05 -0.0010338380367746513 7.9875118394907176e-05 1.604570986116647e-05 0.024772416926186435 6.682497898072931e-05 -1.3982675985092817e-05 0.00016849261088679827 -0.0022928736408130809;-0.00011828050272424603 5.1272106761595651e-05 -3.2297752154402292e-05 -4.8666160239267018e-06 5.7513833525112243e-05 0.002801309020639024 1.0518177885846536 -0.044756944844082158 0.00017470085500681331 3.4943785780864564e-05 0.0019240711929776066 0.00061765007806360568 -3.5945008465565348e-05 -0.37156727988003524 6.0689165475785231e-06 -6.9360126483911574e-05 0.029554753806875719 0.0012594857684961281 -3.5817425309773592e-05 0.0059501669537496736 -6.9805421374845227e-05 1.2146131448539354e-05 -5.0473334243763503e-06 7.6633419176522512e-06 1.75599823037631e-05 -1.1682651987669185e-05 -3.4892426777442356e-05 2.8116249904023981e-05 0.0001291691643318311 -3.1028673034316486e-05 9.2092684092614165e-06 0.00010583445474276877 -8.626477787435667e-05 0.00010251457262335902 -4.7656434048218592e-06 -5.4069523067605417e-05 -4.8760666718326659e-05 8.2449644791785099e-06 1.5891516672670831e-05 1.9756526354752754e-05 0.075117986417540888 0.0038060810377945594 -2.1688103367252921e-05 -1.2718819293638202e-06 0.00014440004333142123 3.5646039195770548e-05 -0.0011830080096857322 5.3357915594936146e-06 -0.0018791055492441604 0.00021013772530990713 -1.1958509049572824e-05 -0.0016509747495908197 6.6740091749287626e-05 5.8971436860592658e-05 -0.0035336951865249551 3.963478789610595e-05 -1.1557181010264902e-05 2.0437763157450396e-06 0.23191704150119924 -0.00063997674113489185 -3.2398459349222549e-05 1.902979662342121e-05 1.8205484027796413e-07 4.2886083595766335e-08 -9.5148347959092101e-07 0.23677600631794923 2.4296956439487992e-05 0.45570820438338788 -0.0010594050028969783 0.00019124330116701666 0.020626039259401905 -0.0076877763983823543 0.15785676843460339 3.7972768965052197e-06 0.0061805487895527887 9.0520688148115752e-06 9.8516796024211926e-06 2.4106450139149749e-05 4.0080706471544138e-06 3.1161036704469456e-05 -1.227236523633859e-05 2.2570405252855347e-05 7.8271712450791518e-06 -0.0011000062455762368 0.046269182929333741 5.5084022965532382e-06 6.1736515513343595e-05 -0.34950357060492959 1.2191826444850225e-05 -4.2182546480341133e-05 -1.4761591948569199e-06 2.1763421407672045e-05 9.3857001581495002e-06 -5.3181692126218552e-05 -4.260529473481458e-05 -0.075383381986246015 -0.00035473631025913015 3.1678989558530553e-05 6.2065512908493302e-06 7.4673996474654346e-05 2.183347648089656e-05 -8.6917916111574843e-06 -0.13164630478772218 0.0085010117854268149 -0.0013746719715818432 1.1125578402489057e-05 6.5532851321045541e-05 8.8403179741154645e-05 3.8364353500194456e-05 -6.3131415927744898e-05 2.4577053788966752e-05 -9.0733253048936406e-05 1.1550247810911746e-05 -1.3910249611904875e-05 -4.2969111491754497e-05 2.7714336826788685e-05 -5.4959210217031281e-06 0.00083403447463464896 -4.4749463647817596e-05 1.9818218972964428e-06 -0.17918139725346138 8.9805253385506382e-05 -1.3685607803160527e-05 0.00013051711078247642 2.6496188725879473e-05 -8.6735184664932206e-05 6.9593520331704558e-05 1.5776610575471104];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.00058844297987525;0.000587994907964097;0.000588050231250753;0.000588337387958499];
y1_step1.xoffset = [-1793.78;-1793.82;-1793.47;-1793.01];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
